{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { STRIPE_API_URL } from \"../configs/apiEndpoints\";\nexport var getAllCartFoods = function getAllCartFoods(items) {\n  var allFoods = [];\n  var foodsData = items.map(function (x) {\n    return x.foods;\n  });\n  foodsData.map(function (food) {\n    food.map(function (x) {\n      allFoods = [].concat(_toConsumableArray(allFoods), [x]);\n    });\n  });\n  return allFoods;\n};\nexport var getTotalCartItemPrice = function getTotalCartItemPrice(items) {\n  var allFoods = [];\n  var foodsData = items.map(function (x) {\n    return x.foods;\n  });\n  foodsData.map(function (food) {\n    food.map(function (x) {\n      allFoods = [].concat(_toConsumableArray(allFoods), [x]);\n    });\n  });\n  return allFoods.reduce(function (total, item) {\n    return total + item.price;\n  }, 0).toFixed(1);\n};\nexport var fetchPublishableKey = function () {\n  var _ref = _asyncToGenerator(function* () {\n    try {\n      var response = yield fetch(`${STRIPE_API_URL}/stripe-key`);\n      var _yield$response$json = yield response.json(),\n        publishableKey = _yield$response$json.publishableKey;\n      return publishableKey;\n    } catch (e) {\n      console.warn('Unable to fetch publishable key. Is your server running?');\n      Alert.alert('Error', 'Unable to fetch publishable key. Is your server running?');\n      return null;\n    }\n  });\n  return function fetchPublishableKey() {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["STRIPE_API_URL","getAllCartFoods","items","allFoods","foodsData","map","x","foods","food","concat","_toConsumableArray","getTotalCartItemPrice","reduce","total","item","price","toFixed","fetchPublishableKey","_ref","_asyncToGenerator","response","fetch","_yield$response$json","json","publishableKey","e","console","warn","Alert","alert","apply","arguments"],"sources":["/home/armel/workspaceSchool/Payfood_App/src/utils/helpers.js"],"sourcesContent":["import { Alert } from 'react-native'\nimport { STRIPE_API_URL } from '../configs/apiEndpoints'\n\nexport const getAllCartFoods = (items) => {\n    let allFoods = []\n    const foodsData = items.map(x => x.foods)\n    foodsData.map(food => {\n        food.map(x => {\n            allFoods = [...allFoods, x]\n        })\n    })\n    return allFoods\n}\n\nexport const getTotalCartItemPrice = (items) => {\n    let allFoods = []\n    const foodsData = items.map(x => x.foods)\n    foodsData.map(food => {\n        food.map(x => {\n            allFoods = [...allFoods, x]\n        })\n    })\n    return allFoods.reduce((total, item) => total + item.price, 0).toFixed(1)\n}\n\n\nexport const fetchPublishableKey = async () => {\n    try {\n        const response = await fetch(\n            `${STRIPE_API_URL}/stripe-key`\n        );\n\n        const { publishableKey } = await response.json();\n\n        return publishableKey;\n    } catch (e) {\n        console.warn('Unable to fetch publishable key. Is your server running?');\n        Alert.alert(\n            'Error',\n            'Unable to fetch publishable key. Is your server running?'\n        );\n        return null;\n    }\n}\n"],"mappings":";;;AACA,SAASA,cAAc;AAEvB,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAeA,CAAIC,KAAK,EAAK;EACtC,IAAIC,QAAQ,GAAG,EAAE;EACjB,IAAMC,SAAS,GAAGF,KAAK,CAACG,GAAG,CAAC,UAAAC,CAAC;IAAA,OAAIA,CAAC,CAACC,KAAK;EAAA,EAAC;EACzCH,SAAS,CAACC,GAAG,CAAC,UAAAG,IAAI,EAAI;IAClBA,IAAI,CAACH,GAAG,CAAC,UAAAC,CAAC,EAAI;MACVH,QAAQ,MAAAM,MAAA,CAAAC,kBAAA,CAAOP,QAAQ,IAAEG,CAAC,EAAC;IAC/B,CAAC,CAAC;EACN,CAAC,CAAC;EACF,OAAOH,QAAQ;AACnB,CAAC;AAED,OAAO,IAAMQ,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAIT,KAAK,EAAK;EAC5C,IAAIC,QAAQ,GAAG,EAAE;EACjB,IAAMC,SAAS,GAAGF,KAAK,CAACG,GAAG,CAAC,UAAAC,CAAC;IAAA,OAAIA,CAAC,CAACC,KAAK;EAAA,EAAC;EACzCH,SAAS,CAACC,GAAG,CAAC,UAAAG,IAAI,EAAI;IAClBA,IAAI,CAACH,GAAG,CAAC,UAAAC,CAAC,EAAI;MACVH,QAAQ,MAAAM,MAAA,CAAAC,kBAAA,CAAOP,QAAQ,IAAEG,CAAC,EAAC;IAC/B,CAAC,CAAC;EACN,CAAC,CAAC;EACF,OAAOH,QAAQ,CAACS,MAAM,CAAC,UAACC,KAAK,EAAEC,IAAI;IAAA,OAAKD,KAAK,GAAGC,IAAI,CAACC,KAAK;EAAA,GAAE,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,CAAC;AAC7E,CAAC;AAGD,OAAO,IAAMC,mBAAmB;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,aAAY;IAC3C,IAAI;MACA,IAAMC,QAAQ,SAASC,KAAK,CACvB,GAAErB,cAAe,aACtB,CAAC;MAED,IAAAsB,oBAAA,SAAiCF,QAAQ,CAACG,IAAI,CAAC,CAAC;QAAxCC,cAAc,GAAAF,oBAAA,CAAdE,cAAc;MAEtB,OAAOA,cAAc;IACzB,CAAC,CAAC,OAAOC,CAAC,EAAE;MACRC,OAAO,CAACC,IAAI,CAAC,0DAA0D,CAAC;MACxEC,KAAK,CAACC,KAAK,CACP,OAAO,EACP,0DACJ,CAAC;MACD,OAAO,IAAI;IACf;EACJ,CAAC;EAAA,gBAjBYZ,mBAAmBA,CAAA;IAAA,OAAAC,IAAA,CAAAY,KAAA,OAAAC,SAAA;EAAA;AAAA,GAiB/B"},"metadata":{},"sourceType":"module","externalDependencies":[]}