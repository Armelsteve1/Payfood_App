{"ast":null,"code":"import React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { useSelector } from 'react-redux';\nimport tailwind from 'tailwind-react-native-classnames';\nimport { selectCartItems, selectTotalPrice } from \"../redux/slices/basketSlice\";\nimport { useNavigation } from '@react-navigation/core';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar CheckoutModal = function CheckoutModal(_ref) {\n  var setModalVisible = _ref.setModalVisible;\n  var totalPrice = useSelector(selectTotalPrice);\n  var allCartItems = useSelector(selectCartItems);\n  var navigation = useNavigation();\n  var addOrder = function addOrder() {\n    setModalVisible(false);\n    navigation.navigate(\"CheckoutScreen\");\n  };\n  return _jsxs(View, {\n    style: tailwind`flex-1 bg-black bg-opacity-40`,\n    children: [_jsx(TouchableOpacity, {\n      style: tailwind`flex-grow`,\n      onPress: function onPress() {\n        return setModalVisible(false);\n      }\n    }), _jsxs(View, {\n      style: tailwind`pb-5  w-full px-4 bg-white pt-4`,\n      children: [_jsx(Text, {\n        style: tailwind`text-black text-center text-xl font-bold mb-5`,\n        children: \"Checkout details\"\n      }), _jsxs(View, {\n        style: tailwind`mb-5`,\n        children: [allCartItems == null ? void 0 : allCartItems.map(function (item) {\n          var _item$foods;\n          return _jsx(OrderItem, {\n            name: item.resName,\n            value: `$${item == null ? void 0 : item.foods.reduce(function (total, item) {\n              return total + item.price;\n            }, 0).toFixed(1)} • (${item == null ? void 0 : (_item$foods = item.foods) == null ? void 0 : _item$foods.length})`\n          }, item.resName);\n        }), _jsx(OrderItem, {\n          name: \"Total price\",\n          value: `$${totalPrice}`,\n          total: true\n        })]\n      }), _jsx(TouchableOpacity, {\n        style: tailwind`py-3 px-10 self-center bg-black rounded-full`,\n        onPress: addOrder,\n        children: _jsx(Text, {\n          style: tailwind`text-white`,\n          children: \"Checkout\"\n        })\n      })]\n    })]\n  });\n};\nexport default CheckoutModal;\nvar OrderItem = function OrderItem(_ref2) {\n  var name = _ref2.name,\n    value = _ref2.value,\n    total = _ref2.total;\n  return _jsxs(View, {\n    style: tailwind`flex-row justify-between py-3 border-gray-200 items-center ${total ? 'border-t' : 'border-b'}`,\n    children: [_jsx(Text, {\n      style: tailwind`text-black font-bold text-black ${total && 'text-lg'}`,\n      numberOfLines: 1,\n      children: name\n    }), _jsx(Text, {\n      style: tailwind`text-black text-xs ${total && 'font-bold'}`,\n      children: value\n    })]\n  });\n};","map":{"version":3,"names":["React","View","TouchableOpacity","Text","useSelector","tailwind","selectCartItems","selectTotalPrice","useNavigation","jsx","_jsx","jsxs","_jsxs","CheckoutModal","_ref","setModalVisible","totalPrice","allCartItems","navigation","addOrder","navigate","style","children","onPress","map","item","_item$foods","OrderItem","name","resName","value","foods","reduce","total","price","toFixed","length","_ref2","numberOfLines"],"sources":["/home/armel/workspaceSchool/Payfood_App/src/components/CheckoutModal.js"],"sourcesContent":["import React from 'react';\nimport { View, TouchableOpacity, Text } from 'react-native';\nimport { useSelector } from 'react-redux';\nimport tailwind from 'tailwind-react-native-classnames';\nimport { selectCartItems, selectTotalPrice } from '../redux/slices/basketSlice';\nimport { useNavigation } from '@react-navigation/core';\n\nconst CheckoutModal = ({ setModalVisible }) => {\n    const totalPrice = useSelector(selectTotalPrice)\n    const allCartItems = useSelector(selectCartItems)\n    const navigation = useNavigation()\n\n    const addOrder = () => {\n        setModalVisible(false)\n        navigation.navigate(\"CheckoutScreen\");\n    }\n\n    return (\n        <View style={tailwind`flex-1 bg-black bg-opacity-40`}>\n            <TouchableOpacity style={tailwind`flex-grow`} onPress={() => setModalVisible(false)}>\n\n            </TouchableOpacity>\n            <View style={tailwind`pb-5  w-full px-4 bg-white pt-4`}>\n                <Text style={tailwind`text-black text-center text-xl font-bold mb-5`}>Checkout details</Text>\n                <View style={tailwind`mb-5`}>\n                    {allCartItems?.map(item => (\n                        <OrderItem key={item.resName} name={item.resName} value={`$${item?.foods.reduce((total, item) => total + item.price, 0).toFixed(1)} • (${item?.foods?.length})`} />\n                    ))}\n                    <OrderItem name=\"Total price\" value={`$${totalPrice}`} total />\n                </View>\n                <TouchableOpacity style={tailwind`py-3 px-10 self-center bg-black rounded-full`} onPress={addOrder}>\n                    <Text style={tailwind`text-white`}>Checkout</Text>\n                </TouchableOpacity>\n            </View>\n        </View>\n    );\n}\n\nexport default CheckoutModal;\n\nconst OrderItem = ({ name, value, total }) => (\n    <View style={tailwind`flex-row justify-between py-3 border-gray-200 items-center ${total ? 'border-t' : 'border-b'}`}>\n        <Text style={tailwind`text-black font-bold text-black ${total && 'text-lg'}`} numberOfLines={1}>{name}</Text>\n        <Text style={tailwind`text-black text-xs ${total && 'font-bold'}`}>{value}</Text>\n    </View>\n)"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}