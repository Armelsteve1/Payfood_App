{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport tailwind from 'tailwind-react-native-classnames';\nimport { selectCartItems, updateBasket } from \"../redux/slices/basketSlice\";\nimport BouncyCheckbox from \"react-native-bouncy-checkbox\";\nimport colors from \"../configs/colors\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar CartItems = function CartItems() {\n  var allCartItems = useSelector(selectCartItems);\n  var dispatch = useDispatch();\n  var match = function match(id, resName) {\n    return allCartItems.some(function (item) {\n      return item.resName === resName && item.foods.some(function (food) {\n        return food.id === id;\n      });\n    });\n  };\n  var handleRemove = function handleRemove(id, resName, resImage) {\n    var updatedCartItems = allCartItems.map(function (item) {\n      if (item.resName === resName) {\n        var updatedFoods = item.foods.filter(function (food) {\n          return food.id !== id;\n        });\n        if (updatedFoods.length > 0) {\n          return _objectSpread(_objectSpread({}, item), {}, {\n            foods: updatedFoods\n          });\n        }\n      }\n      return item;\n    });\n    dispatch(updateBasket(updatedCartItems));\n  };\n  return _jsxs(ScrollView, {\n    style: tailwind`mx-4 mt-3`,\n    showsVerticalScrollIndicator: false,\n    children: [!allCartItems.length && _jsx(Text, {\n      style: tailwind`text-center text-black`,\n      children: \"No cart items!\"\n    }), allCartItems.map(function (item) {\n      return _jsxs(View, {\n        style: tailwind`mb-4`,\n        children: [_jsxs(View, {\n          style: tailwind`mb-4 relative justify-center`,\n          children: [_jsx(Image, {\n            style: tailwind`w-full h-16 rounded-lg`,\n            source: {\n              uri: item.resImage\n            }\n          }), _jsx(View, {\n            style: [tailwind`absolute top-0 left-0 w-full h-full bg-black rounded-lg`, {\n              opacity: 0.5\n            }]\n          }), _jsx(Text, {\n            style: tailwind`absolute self-center text-white w-3/4 text-center font-bold text-xl`,\n            numberOfLines: 1,\n            children: item.resName\n          })]\n        }), item.foods.map(function (food) {\n          return _jsxs(View, {\n            style: tailwind`mb-3 flex-row justify-between items-center pb-3 border-b border-gray-100`,\n            children: [_jsxs(View, {\n              style: tailwind`flex-1 pr-3 flex-row items-center`,\n              children: [_jsx(BouncyCheckbox, {\n                fillColor: colors.black,\n                isChecked: match(food.id, item.resName),\n                onPress: function onPress() {\n                  return handleRemove(food.id, item.resName, item.resImage);\n                }\n              }), _jsxs(View, {\n                style: tailwind`flex-1 pl-2`,\n                children: [_jsx(Text, {\n                  style: [tailwind`text-gray-900 font-bold mb-1`, {\n                    fontSize: 16\n                  }],\n                  children: food.title\n                }), _jsxs(Text, {\n                  style: tailwind`text-gray-800 text-xs`,\n                  children: [\"$\", food.price]\n                }), _jsx(Text, {\n                  style: tailwind`text-gray-600 text-xs`,\n                  children: food.description\n                })]\n              })]\n            }), _jsx(View, {\n              children: _jsx(Image, {\n                style: tailwind`h-16 w-16 rounded-lg`,\n                source: {\n                  uri: food.image\n                }\n              })\n            })]\n          }, food.id);\n        })]\n      }, item.resName);\n    })]\n  });\n};\nvar styles = StyleSheet.create({});\nexport default CartItems;","map":{"version":3,"names":["React","View","StyleSheet","Text","Image","ScrollView","useDispatch","useSelector","tailwind","selectCartItems","updateBasket","BouncyCheckbox","colors","jsx","_jsx","jsxs","_jsxs","CartItems","allCartItems","dispatch","match","id","resName","some","item","foods","food","handleRemove","resImage","updatedCartItems","map","updatedFoods","filter","length","_objectSpread","style","showsVerticalScrollIndicator","children","source","uri","opacity","numberOfLines","fillColor","black","isChecked","onPress","fontSize","title","price","description","image","styles","create"],"sources":["/home/armel/workspaceSchool/Payfood_App/src/components/CartItems.js"],"sourcesContent":["import React from 'react';\nimport { View, StyleSheet, Text, Image, ScrollView } from 'react-native';\nimport { useDispatch, useSelector } from 'react-redux';\nimport tailwind from 'tailwind-react-native-classnames';\nimport { selectCartItems, updateBasket } from '../redux/slices/basketSlice';\nimport BouncyCheckbox from \"react-native-bouncy-checkbox\";\nimport colors from '../configs/colors';\n\nconst CartItems = () => {\n    const allCartItems = useSelector(selectCartItems);\n    const dispatch = useDispatch();\n\n    const match = (id, resName) => {\n        return allCartItems.some(item => item.resName === resName && item.foods.some(food => food.id === id));\n    }\n\n    const handleRemove = (id, resName, resImage) => {\n        const updatedCartItems = allCartItems.map(item => {\n            if (item.resName === resName) {\n                const updatedFoods = item.foods.filter(food => food.id !== id);\n                if (updatedFoods.length > 0) {\n                    return { ...item, foods: updatedFoods };\n                }\n            }\n            return item;\n        });\n\n        dispatch(updateBasket(updatedCartItems));\n    }\n\n    return (\n        <ScrollView style={tailwind`mx-4 mt-3`} showsVerticalScrollIndicator={false}>\n            {!allCartItems.length && <Text style={tailwind`text-center text-black`}>No cart items!</Text>}\n            {allCartItems.map(item => (\n                <View key={item.resName} style={tailwind`mb-4`}>\n                    <View style={tailwind`mb-4 relative justify-center`}>\n                        <Image style={tailwind`w-full h-16 rounded-lg`} source={{ uri: item.resImage }} />\n                        <View style={[tailwind`absolute top-0 left-0 w-full h-full bg-black rounded-lg`, { opacity: 0.5 }]} />\n                        <Text style={tailwind`absolute self-center text-white w-3/4 text-center font-bold text-xl`} numberOfLines={1}>{item.resName}</Text>\n                    </View>\n                    {item.foods.map((food) => (\n                        <View style={tailwind`mb-3 flex-row justify-between items-center pb-3 border-b border-gray-100`} key={food.id}>\n                            <View style={tailwind`flex-1 pr-3 flex-row items-center`}>\n                                <BouncyCheckbox\n                                    fillColor={colors.black}\n                                    isChecked={match(food.id, item.resName)}\n                                    onPress={() => handleRemove(food.id, item.resName, item.resImage)}\n                                />\n                                <View style={tailwind`flex-1 pl-2`}>\n                                    <Text style={[tailwind`text-gray-900 font-bold mb-1`, { fontSize: 16 }]}>{food.title}</Text>\n                                    <Text style={tailwind`text-gray-800 text-xs`}>${food.price}</Text>\n                                    <Text style={tailwind`text-gray-600 text-xs`}>{food.description}</Text>\n                                </View>\n                            </View>\n                            <View>\n                                <Image style={tailwind`h-16 w-16 rounded-lg`} source={{ uri: food.image }} />\n                            </View>\n                        </View>\n                    ))}\n                </View>\n            ))}\n        </ScrollView>\n    );\n}\n\nconst styles = StyleSheet.create({})\n\nexport default CartItems;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}