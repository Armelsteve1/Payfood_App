{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { foods } from \"../data/foodsData\";\nimport tailwind from 'tailwind-react-native-classnames';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectCartItems, selectTotalPrice, updateBusket } from \"../redux/slices/basketSlice\";\nimport BouncyCheckbox from \"react-native-bouncy-checkbox\";\nimport colors from \"../configs/colors\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar MenuItems = function MenuItems(_ref) {\n  var resName = _ref.resName,\n    resImage = _ref.resImage;\n  var cartItems = useSelector(selectCartItems);\n  var dispatch = useDispatch();\n  var match = function match(id) {\n    var resIndex = cartItems.findIndex(function (item) {\n      return item.resName === resName;\n    });\n    if (resIndex >= 0) {\n      var menuIndex = cartItems[resIndex].foods.findIndex(function (item) {\n        return item.id === id;\n      });\n      if (menuIndex >= 0) return true;\n      return false;\n    }\n    return false;\n  };\n  var handleAddRemove = function handleAddRemove(id) {\n    var indexFromFood = foods.findIndex(function (x) {\n      return x.id === id;\n    });\n    var resIndex = cartItems.findIndex(function (item) {\n      return item.resName === resName;\n    });\n    var foodItem = foods[indexFromFood];\n    if (resIndex >= 0) {\n      var menuIndex = cartItems[resIndex].foods.findIndex(function (item) {\n        return item.id === id;\n      });\n      if (menuIndex >= 0) {\n        var oldArrays = _toConsumableArray(cartItems);\n        var oldfoods = _toConsumableArray(oldArrays[resIndex].foods);\n        oldfoods.splice(menuIndex, 1);\n        oldArrays.splice(resIndex, 1);\n        var newArray = [].concat(_toConsumableArray(oldArrays), [{\n          foods: oldfoods,\n          resName: resName,\n          resImage: resImage\n        }]);\n        dispatch(updateBusket(newArray));\n      } else {\n        var _oldArrays = _toConsumableArray(cartItems);\n        var newFoodArray = [].concat(_toConsumableArray(_oldArrays[resIndex].foods), [foodItem]);\n        _oldArrays.splice(resIndex, 1);\n        var updatedResArray = [].concat(_toConsumableArray(_oldArrays), [{\n          foods: newFoodArray,\n          resName: resName,\n          resImage: resImage\n        }]);\n        dispatch(updateBusket(updatedResArray));\n      }\n    } else {\n      var _oldArrays2 = _toConsumableArray(cartItems);\n      var newResFoodArray = [].concat(_toConsumableArray(_oldArrays2), [{\n        foods: [_objectSpread({}, foodItem)],\n        resName: resName,\n        resImage: resImage\n      }]);\n      dispatch(updateBusket(newResFoodArray));\n    }\n  };\n  return _jsx(View, {\n    style: tailwind`mt-5 mb-12`,\n    children: foods == null ? void 0 : foods.map(function (_ref2, index) {\n      var title = _ref2.title,\n        description = _ref2.description,\n        image = _ref2.image,\n        price = _ref2.price,\n        id = _ref2.id;\n      return _jsxs(View, {\n        style: tailwind`mb-3 flex-row justify-between items-center pb-3 border-b border-gray-100`,\n        children: [_jsxs(View, {\n          style: tailwind`flex-1 pr-3 flex-row items-center`,\n          children: [match(id) ? _jsx(BouncyCheckbox, {\n            fillColor: colors.black,\n            isChecked: true,\n            onPress: function onPress() {\n              return handleAddRemove(id);\n            }\n          }) : _jsx(BouncyCheckbox, {\n            fillColor: colors.black,\n            isChecked: false,\n            onPress: function onPress() {\n              return handleAddRemove(id);\n            }\n          }), _jsxs(View, {\n            style: tailwind`flex-1 pl-2`,\n            children: [_jsx(Text, {\n              style: [tailwind`text-gray-900 font-bold mb-1`, {\n                fontSize: 16\n              }],\n              children: title\n            }), _jsxs(Text, {\n              style: tailwind`text-gray-800 text-xs`,\n              children: [\"$\", price]\n            }), _jsx(Text, {\n              style: tailwind`text-gray-600 text-xs`,\n              children: description\n            })]\n          })]\n        }), _jsx(View, {\n          style: tailwind``,\n          children: _jsx(Image, {\n            style: tailwind`h-16 w-16 rounded-lg`,\n            source: {\n              uri: image\n            }\n          })\n        })]\n      }, index);\n    })\n  });\n};\nvar styles = StyleSheet.create({});\nexport default MenuItems;","map":{"version":3,"names":["React","useEffect","useState","View","StyleSheet","Text","Image","foods","tailwind","useDispatch","useSelector","selectCartItems","selectTotalPrice","updateBusket","BouncyCheckbox","colors","jsx","_jsx","jsxs","_jsxs","MenuItems","_ref","resName","resImage","cartItems","dispatch","match","id","resIndex","findIndex","item","menuIndex","handleAddRemove","indexFromFood","x","foodItem","oldArrays","_toConsumableArray","oldfoods","splice","newArray","concat","newFoodArray","updatedResArray","newResFoodArray","_objectSpread","style","children","map","_ref2","index","title","description","image","price","fillColor","black","isChecked","onPress","fontSize","source","uri","styles","create"],"sources":["/home/armel/workspaceSchool/Payfood_App/src/components/MenuItems.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { View, StyleSheet, Text, Image } from 'react-native';\nimport { foods } from '../data/foodsData'\nimport tailwind from 'tailwind-react-native-classnames';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectCartItems, selectTotalPrice, updateBusket } from '../redux/slices/basketSlice';\nimport BouncyCheckbox from \"react-native-bouncy-checkbox\";\nimport colors from '../configs/colors';\n\nconst MenuItems = ({ resName, resImage }) => {\n    const cartItems = useSelector(selectCartItems)\n    const dispatch = useDispatch()\n    \n    const match = id => {\n        const resIndex = cartItems.findIndex(item => item.resName === resName)\n        if (resIndex >= 0) {\n            const menuIndex = cartItems[resIndex].foods.findIndex(item => item.id === id)\n            if (menuIndex >= 0) return true\n            return false\n        } return false\n    }\n\n    const handleAddRemove = (id) => {\n        const indexFromFood = foods.findIndex(x => x.id === id)\n        const resIndex = cartItems.findIndex(item => item.resName === resName)\n        const foodItem = foods[indexFromFood]\n\n        if (resIndex >= 0) {\n            const menuIndex = cartItems[resIndex].foods.findIndex(item => item.id === id)\n            if (menuIndex >= 0) {\n                let oldArrays = [...cartItems]\n                let oldfoods = [...oldArrays[resIndex].foods]\n                oldfoods.splice(menuIndex, 1)\n                oldArrays.splice(resIndex, 1)\n                let newArray = [...oldArrays, { foods: oldfoods, resName, resImage }]\n                dispatch(updateBusket(newArray))\n            } else {\n                let oldArrays = [...cartItems]\n                let newFoodArray = [...oldArrays[resIndex].foods, foodItem]\n                oldArrays.splice(resIndex, 1)\n                let updatedResArray = [...oldArrays, { foods: newFoodArray, resName, resImage }]\n                dispatch(updateBusket(updatedResArray))\n            }\n        } else {\n            let oldArrays = [...cartItems]\n            let newResFoodArray = [...oldArrays, {\n                foods: [{ ...foodItem }],\n                resName,\n                resImage\n            }]\n            dispatch(updateBusket(newResFoodArray))\n        }\n    }\n\n    return (\n        <View style={tailwind`mt-5 mb-12`}>\n            {foods?.map(({ title, description, image, price, id }, index) => (\n                <View style={tailwind`mb-3 flex-row justify-between items-center pb-3 border-b border-gray-100`} key={index} >\n                    <View style={tailwind`flex-1 pr-3 flex-row items-center`}>\n                        {match(id) ? (\n                            <BouncyCheckbox fillColor={colors.black} isChecked={true} onPress={() => handleAddRemove(id)} />\n                        ) : (\n                            <BouncyCheckbox fillColor={colors.black} isChecked={false} onPress={() => handleAddRemove(id)} />\n                        )}\n                        <View style={tailwind`flex-1 pl-2`}>\n                            <Text style={[tailwind`text-gray-900 font-bold mb-1`, { fontSize: 16 }]}>{title}</Text>\n                            <Text style={tailwind`text-gray-800 text-xs`}>${price}</Text>\n                            <Text style={tailwind`text-gray-600 text-xs`}>{description}</Text>\n                        </View>\n                    </View>\n                    <View style={tailwind``} >\n                        <Image style={tailwind`h-16 w-16 rounded-lg`} source={{ uri: image }} />\n                    </View>\n                </View>\n            ))}\n        </View>\n    );\n}\n\nconst styles = StyleSheet.create({})\n\nexport default MenuItems;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}